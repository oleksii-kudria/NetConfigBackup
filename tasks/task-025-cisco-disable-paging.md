# task-025-cisco-disable-paging.md

## Мета
Реалізувати вимкнення paging (посторінкового виводу) на Cisco, щоб команди з великим output
(насамперед `show running-config`) повертали **повний текст без `--More--`**.

Це є обовʼязковим кроком перед зняттям конфігу.

---

## Контекст
Без paging-disable Cisco перериває вивід і очікує натискання клавіші, що:
- обрізає отриманий конфіг
- ламає автоматизацію
- дає хибні diff та hash

Після `task-023` та (опційно) `task-024` ми маємо активну SSH-сесію та можемо виконувати команди.

---

## Вимоги

### 1) Команда вимкнення paging
Використовувати команду:

```cisco
terminal length 0
```

Правила:
- виконувати **перед** `show running-config`
- виконувати **після** успішного SSH login
- якщо реалізований enable-mode і він потрібен - виконувати **після** `enable`

---

### 2) Обробка відмінностей платформи
У деяких випадках команда може:
- бути недоступною (обмежені права)
- повертати помилку синтаксису
- ігноруватись

Поведінка:
- якщо команда виконалась успішно - продовжити
- якщо команда повернула помилку:
  - логувати WARNING
  - продовжити виконання (але врахувати ризик `--More--` під час `show running-config`)

У цій задачі необхідно реалізувати базове:
- не падати від помилки `terminal length 0`
- але явно попереджати в логах

---

### 3) Визначення успіху
Використати один із підходів:
- відсутність error-pattern у відповіді (наприклад `Invalid input`, `Incomplete command`, `Authorization failed`)
- або перевірка, що prompt повернувся очікуваний (`>` або `#`)

Критично: не блокуємо пайплайн без потреби.

---

### 4) Логування
Обовʼязково логувати:

- INFO:
  - `device=<name> disabling paging`
- INFO:
  - `device=<name> paging disabled`
- WARNING:
  - `device=<name> paging disable failed; continuing`

⚠️ Секрети не логувати.

---

### 5) Інтеграція
Реалізувати метод у Cisco client, наприклад:
- `CiscoClient.disable_paging(...)`

Викликати його у Cisco backup pipeline перед командами, що можуть бути довгими (мінімум перед `show running-config`).

---

### 6) Документація (README.md)
Оновити README.md (UA + EN, якщо використовується двомовність):
- коротко пояснити, що NetConfigBackup встановлює `terminal length 0` для коректного зняття конфігу
- вказати, що при обмежених правах можливі попередження

---

## Область змін
Очікувані файли для змін/додавання:

- `src/app/cisco/client.py`
- Cisco pipeline у `scripts/run.py` (або відповідному модулі)
- `README.md` (за необхідністю)

---

## Acceptance criteria
- Перед `show running-config` виконується `terminal length 0`
- При успіху в логах є `paging disabled`
- При помилці - WARNING і пайплайн не падає
- Команда не викликає зависань/очікування вводу користувача
- README.md доповнено (за необхідністю)

---

## Результат
NetConfigBackup стабільно отримує повні конфіги Cisco без `--More--`, що дозволяє
коректно зберігати бекапи та виконувати подальший diff.
